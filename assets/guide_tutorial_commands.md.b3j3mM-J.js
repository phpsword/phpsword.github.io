import{_ as i,c as s,o as a,a5 as n}from"./chunks/framework.CoNgQsep.js";const c=JSON.parse('{"title":"Commands for WP-CLI","description":"","frontmatter":{},"headers":[],"relativePath":"guide/tutorial/commands.md","filePath":"guide/tutorial/commands.md","lastUpdated":1711689985000}'),t={name:"guide/tutorial/commands.md"},l=n(`<h1 id="commands-for-wp-cli" tabindex="-1">Commands for WP-CLI <a class="header-anchor" href="#commands-for-wp-cli" aria-label="Permalink to &quot;Commands for WP-CLI&quot;">​</a></h1><p>Sword commands are automatically loaded so you don&#39;t need to include them in your <code>functions.php</code> of your theme. They are <a href="./services.html"><code>WordpressService</code></a> classes under the hood.</p><h2 id="create-a-command" tabindex="-1">Create a command <a class="header-anchor" href="#create-a-command" aria-label="Permalink to &quot;Create a command&quot;">​</a></h2><p>To create a WP-CLI command, the only thing to do is to create a class extending <code>WordpressCommand</code>.</p><p>Try this by creating this file in your Sword project: <code>src/Wordpress/Command/TweetCommand.php</code>.</p><div class="language-php vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes catppuccin-latte dracula vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">declare</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#BD93F9;">strict_types</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#BD93F9;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">namespace</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> App</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">Wordpress</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">Command</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> Sword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">SwordBundle</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">Attribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">AsWordpressCommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> Sword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">SwordBundle</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">Command</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">WordpressCommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">use</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> WP_CLI</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#F8F8F2;">#[</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">AsWordpressCommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#FFB86C;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;"> &#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">tweet</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">)</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#F8F8F2;">]</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> TweetCommand</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> WordpressCommand</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">{</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6272A4;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    /**</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6272A4;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     * Tweets a blog post</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6272A4;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     *</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6272A4;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     * @synopsis --post-id=&lt;post-id&gt;</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6272A4;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     */</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#BD93F9;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> __invoke</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">array</span><span style="--shiki-light:#E64553;--shiki-dark:#F8F8F2;"> $</span><span style="--shiki-light:#E64553;--shiki-dark:#F8F8F2;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">arguments</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> array</span><span style="--shiki-light:#E64553;--shiki-dark:#F8F8F2;"> $</span><span style="--shiki-light:#E64553;--shiki-dark:#F8F8F2;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">options</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">    {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#F8F8F2;">        $postId </span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;"> (</span><span style="--shiki-light:#8839EF;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">int</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;"> (</span><span style="--shiki-light:#4C4F69;--shiki-dark:#F8F8F2;">$options</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">[</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">post-id</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">]</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;"> ??</span><span style="--shiki-light:#FE640B;--shiki-dark:#BD93F9;"> 0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6272A4;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        // Do something with $postId</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        WP_CLI</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">::</span><span style="--shiki-light:#1E66F5;--shiki-dark:#50FA7B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">success</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">Tweet sent.</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">);</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        WP_CLI</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">::</span><span style="--shiki-light:#1E66F5;--shiki-dark:#50FA7B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">halt</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#BD93F9;">0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="requesting-symfony-services-and-parameters" tabindex="-1">Requesting Symfony services and parameters <a class="header-anchor" href="#requesting-symfony-services-and-parameters" aria-label="Permalink to &quot;Requesting Symfony services and parameters&quot;">​</a></h2><p>Your command will probably need to call a Symfony service to handle things. In our example, let&#39;s call a <code>Twitter</code> service that will handle the tweet.</p><p>The first step is to register this service as a public service. To do so, simply add it to the list of the public services in <code>/config/packages/sword.yaml</code>:</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes catppuccin-latte dracula vp-code"><code><span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#8BE9FD;">sword</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">:</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6272A4;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    # ...</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#8BE9FD;">    public_services</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">:</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;">        -</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;"> App\\Social\\Twitter</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Then use it in your command:</p><div class="language-php vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes catppuccin-latte dracula vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">declare</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#BD93F9;">strict_types</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#BD93F9;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">namespace</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> App</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">Wordpress</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">Command</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> App</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">Social</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">Twitter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> Sword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">SwordBundle</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">Attribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">AsWordpressCommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> Sword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">SwordBundle</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">Command</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">WordpressCommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">use</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> WP_CLI</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">use</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> function</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> Sword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">SwordBundle</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">Helper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">get_symfony_service</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#F8F8F2;">#[</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">AsWordpressCommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#FFB86C;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;"> &#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">tweet</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">)</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#F8F8F2;">]</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> TweetCommand</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> WordpressCommand</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">{</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6272A4;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    /**</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6272A4;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     * Tweets a blog post</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6272A4;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     *</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6272A4;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     * @synopsis --post-id=&lt;post-id&gt;</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6272A4;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     */</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#BD93F9;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> __invoke</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">array</span><span style="--shiki-light:#E64553;--shiki-dark:#F8F8F2;"> $</span><span style="--shiki-light:#E64553;--shiki-dark:#F8F8F2;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">arguments</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> array</span><span style="--shiki-light:#E64553;--shiki-dark:#F8F8F2;"> $</span><span style="--shiki-light:#E64553;--shiki-dark:#F8F8F2;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">options</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">    {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#F8F8F2;">        $postId </span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;"> (</span><span style="--shiki-light:#8839EF;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">int</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;"> (</span><span style="--shiki-light:#4C4F69;--shiki-dark:#F8F8F2;">$options</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">[</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">post-id</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">]</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;"> ??</span><span style="--shiki-light:#FE640B;--shiki-dark:#BD93F9;"> 0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;"> (</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">!</span><span style="--shiki-light:#1E66F5;--shiki-dark:#50FA7B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">get_symfony_service</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">Twitter</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">::</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">)</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">-&gt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#50FA7B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">tweet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#F8F8F2;">$postId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;"> {</span></span>
<span class="line highlighted"><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">            WP_CLI</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">::</span><span style="--shiki-light:#1E66F5;--shiki-dark:#50FA7B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">error</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">The tweet cannot be sent.</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">);</span></span>
<span class="line highlighted"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        WP_CLI</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">::</span><span style="--shiki-light:#1E66F5;--shiki-dark:#50FA7B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">success</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">Tweet sent.</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">);</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        WP_CLI</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">::</span><span style="--shiki-light:#1E66F5;--shiki-dark:#50FA7B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">halt</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#BD93F9;">0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="calling-your-command" tabindex="-1">Calling your command <a class="header-anchor" href="#calling-your-command" aria-label="Permalink to &quot;Calling your command&quot;">​</a></h2><p>To call your <code>tweet</code> command, here&#39;s how to call it:</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes catppuccin-latte dracula vp-code"><code><span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#50FA7B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">docker</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;"> compose</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;"> exec</span><span style="--shiki-light:#40A02B;--shiki-dark:#BD93F9;"> -u</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;"> 82:82</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;"> php</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;"> bin/console</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;"> wp</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;"> tweet</span><span style="--shiki-light:#40A02B;--shiki-dark:#BD93F9;"> --post-id=123</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>And if you&#39;ve aliased as explained <a href="./../tooling.html#wp-cli">here</a>, that will be as short as:</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes catppuccin-latte dracula vp-code"><code><span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#50FA7B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">wp</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;"> tweet</span><span style="--shiki-light:#40A02B;--shiki-dark:#BD93F9;"> --post-id=123</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,17),h=[l];function e(k,p,r,F,d,y){return a(),s("div",null,h)}const g=i(t,[["render",e]]);export{c as __pageData,g as default};
