import{_ as s,c as i,o as a,a5 as n,ad as t}from"./chunks/framework.CoNgQsep.js";const g=JSON.parse('{"title":"Services","description":"","frontmatter":{},"headers":[],"relativePath":"guide/tutorial/services.md","filePath":"guide/tutorial/services.md","lastUpdated":1711689985000}'),l={name:"guide/tutorial/services.md"},e=n(`<h1 id="services" tabindex="-1">Services <a class="header-anchor" href="#services" aria-label="Permalink to &quot;Services&quot;">​</a></h1><p>This section will introduce you to the <code>WordpressService</code> interface and its helper abstract class <code>AbstractWordpressService</code>.</p><p>All services that implement <code>WordpressService</code> interface will be automatically initialized by your theme&#39;s <code>functions.php</code>.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>Create a file <code>/src/Wordpress/Sidebars.php</code>. This class will look something like this:</p><div class="language-php vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes catppuccin-latte dracula vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">declare</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#BD93F9;">strict_types</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#BD93F9;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">namespace</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> App</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">Wordpress</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> Sword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">SwordBundle</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">Service</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">AbstractWordpressService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> Symfony</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">Component</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">DependencyInjection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#4C4F69;--shiki-dark:#8BE9FD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">Attribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#FF79C6;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">\\</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">Autowire</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">final</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Sidebars</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> AbstractWordpressService</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">{</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> __construct</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#F8F8F2;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        #[</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">Autowire</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">%sword.child_theme_translation_domain%</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">)</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#F8F8F2;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">]</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">        private</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> readonly</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> string</span><span style="--shiki-light:#E64553;--shiki-dark:#F8F8F2;"> $</span><span style="--shiki-light:#E64553;--shiki-dark:#F8F8F2;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">translationDomain</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">    )</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#50FA7B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> initialize</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">()</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> void</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">    {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#50FA7B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        add_action</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">widgets_init</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">,</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;"> [</span><span style="--shiki-light:#D20F39;--shiki-dark:#BD93F9;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">$this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;"> &#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">registerSidebars</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">]);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#50FA7B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> registerSidebars</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">()</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> void</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">    {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#50FA7B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        register_sidebar</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">([</span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">            &#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">name</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;"> =&gt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#50FA7B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> __</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">My new sidebar</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">,</span><span style="--shiki-light:#D20F39;--shiki-dark:#BD93F9;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> $this</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">-&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#F8F8F2;">translationDomain</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">),</span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">            &#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">id</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;"> =&gt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;"> &#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">my-new-sidebar</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">,</span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">            &#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">before_widget</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;"> =&gt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;"> &#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">&lt;aside id=&quot;%1$s&quot; class=&quot;widget %2$s&quot;&gt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">,</span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">            &#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">after_widget</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">  =&gt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;"> &#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">&lt;/aside&gt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">,</span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">            &#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">before_title</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">  =&gt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;"> &#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">&lt;span class=&quot;widget-title&quot;&gt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">,</span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">            &#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">after_title</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">   =&gt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;"> &#39;</span><span style="--shiki-light:#40A02B;--shiki-dark:#F1FA8C;">&lt;/span&gt;&lt;div class=&quot;is-divider small&quot;&gt;&lt;/div&gt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#E9F284;">&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">        ]);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>Now when you navigate to <code>/wp-admin/widgets.php</code> you get your new sidebar:</p><p><img src="`+t+`" alt="WordPress sidebar"></p><h2 id="dependency-injection" tabindex="-1">Dependency injection <a class="header-anchor" href="#dependency-injection" aria-label="Permalink to &quot;Dependency injection&quot;">​</a></h2><p>Classes implementing <code>WordpressService</code> can take advantage of Symfony&#39;s dependency injection.</p><div class="warning custom-block"><p class="custom-block-title">IMPORTANT</p><p>Symfony services are initialized <strong>before</strong> WordPress is loaded, therefore you can&#39;t use the constructor to call WordPress hooks. Instead, call them in the <code>initialize()</code> method, which is called while WordPress is loading, in your child theme&#39;s <code>functions.php</code>.</p></div><h2 id="priority" tabindex="-1">Priority <a class="header-anchor" href="#priority" aria-label="Permalink to &quot;Priority&quot;">​</a></h2><p><code>WordpressService</code> interface also allows you to define a loading priority.</p><p>To make a service to load with a high priority, implement <code>getPriority()</code> method:</p><div class="language-php vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes catppuccin-latte dracula vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">final</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Sidebars</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> AbstractWordpressService</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">{</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6272A4;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#50FA7B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getPriority</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">()</span><span style="--shiki-light:#179299;--shiki-dark:#FF79C6;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;"> int</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">    {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#FF79C6;">        return</span><span style="--shiki-light:#FE640B;--shiki-dark:#BD93F9;"> 100</span><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>The default priority used by <code>AbstractWordpressService</code> is <code>0</code>. Higher number means higher priority.</p></div>`,16),h=[e];function k(p,r,F,d,c,y){return a(),i("div",null,h)}const b=s(l,[["render",k]]);export{g as __pageData,b as default};
